(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{R:()=>h});const t=function(e){e.forEach((function(e){var t=$("#".concat(e));console.log("Disabling element: ".concat(e)),t.parent().addClass("is-disabled"),t.parent().removeClass("is-active"),t.prop("disabled",!0)}))},n=function(e){e.forEach((function(e){var t=$("#".concat(e));console.log("Enabling and clicking element: ".concat(e)),t.parent().removeClass("is-disabled"),t.prop("disabled",!1),t.click()}))},r=function(e){e.forEach((function(e){var t=$("#".concat(e));console.log("Enabling element: ".concat(e)),t.parent().removeClass("is-disabled"),t.prop("disabled",!1)}))};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o={"Mirror Style":{"Full Frame Inset":"01","Full Frame Edge":"02","Double Long Side Inset":"03","Double Long Side Edge":"04","No Frost":"05","Double Short Side Edge":"06","Double Short Side Inset":"07","Single Long Side Inset":"09","Single Long Side Edge":"08","Single Short Side Edge":"10","Single Short Side Inset":"11","Round Full Frame Edge":"21","Round No Frost":"51"},"Frame Color":{"Black Metal":"BM","Silver Metal":"SM","Gold Metal":"GM"},"Frame Thickness":{"Thin Frame":"T","Wide Frame":"W"},Orientation:{"Vertical Mounting":"1","Horizontal Mounting":"2"},"Light Direction":{Direct:"D",Indirect:"I","Both Direct And Indirect":"B"},"Color Temperature":{2700:"27",3e3:"30",3500:"35",4e3:"40",5e3:"50",Adjustable:"00"},"Mirror Controls":{"Touch Sensor - Light Controls Only":"TS","Matrix Touch System":"TR","Wall Switch Only":"NA"},Accessories:{"Matrix Touch System":"TR","Night-Light":"NL","Night Light && Touch Sensors":"NT","Anti-Fog":"AF","Anti-Fog && Night-Light":"AN","Anti-Fog && Touch Sensors":"AT"},"Light Output":{Standard:"S",High:"H"},Dimming:{"Non-Dimming":"N","ELV Dimmable":"E","0-10-Dimmable":"V"}};function a(e){var t={"Mirror Style":"","Light Direction":"",Width:"",Height:"","Light Output":"","Color Temperature":"",Dimming:"",Orientation:"",Accessories:"","Frame Color":""},n=null,r=function(){var e,t,n="0000",r="0000";if($("#Custom-Size-Checkbox").is(":checked")){var o=$("#Width").val(),a=$("#Height").val(),l=$("#Diameter").val();l&&(n=r=String(l).padStart(4,"0")),o&&a&&(n=o,r=a)}else{var c=$("#Standard-Size").val();if(c){var s=(e=c.replace(/\"/g,"").split("x"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());n=s[0],r=s[1]}}return{width:n,height:r}}();t.Width=r.width,t.Height=r.height;var a="";switch(e.forEach((function(e){var r=e.dataName,i=e.value;if(o[r]&&o[r][i]){var l=o[r][i];"Accessories"===r?a+=l:t[r]=l,"Mirror Controls"===r&&(n=i)}else console.warn("Undefined SKU component for category:",r,"value:",i)})),n){case"Wall Switch Only":"NLAF"===a?a="AN":""===a&&(a="NA");break;case"Matrix Touch System":a="TR";break;case"Touch Sensor - Light Controls Only":"AF"===a?a="AT":"NL"===a?a="NT":""===a&&(a="TS")}delete t["Mirror Controls"],t.Accessories=a;var l,c=(l=$("#product-line").text().trim()).includes("Classic")?"L":l.includes("Future")?"F":l.includes("Deco")?"D":"";if("D"===c){var s=e.find((function(e){return"Frame Thickness"===e.dataName}));if(s){var u=o["Frame Thickness"][s.value];t["Mirror Style"]=u+t["Mirror Style"],delete t["Frame Thickness"]}}if("D"!=c){var d=c+Object.values(t).join("-");$("#productSku").text(d)}else{var f=Object.values(t).join("-");$("#productSku").text(f)}}var l={"Wall Switch":{showAndClick:[],disable:["Adjustable"],enable:["High","Non-Dimming","Night-Light","Anti-Fog","5000","4000","3000","3500","2700","Standard","ELV-Dimmable","0-10-Dimmable"]},"Touch Sensor":{showAndClick:[],disable:["Night-Light"],enable:["High","Non-Dimming","Anti-Fog","5000","4000","3000","3500","2700","Standard","ELV-Dimmable","0-10-Dimmable","Adjustable"]},"Matrix Touch System":{showAndClick:["Adjustable","High","Non-Dimming"],disable:["Night-Light","Anti-Fog","5000","4000","3000","3500","2700","Standard","ELV-Dimmable","0-10-Dimmable"],enable:[]},"Thin Frame":{showAndClick:[],disable:[],enable:[]},"Wide Frame":{showAndClick:[],disable:[],enable:[]},Inset:{showAndClick:[],disable:["Indirect"],enable:["Direct","Both-Direct-And-Indirect"]},Edge:{showAndClick:[],disable:["Night Light","Both-Direct-And-Indirect"],enable:["Direct","Indirect"]},"Thin Frame && Edge":{showAndClick:["Indirect"],disable:["Both-Direct-And-Indirect","Direct"],enable:[]},"No Frost":{showAndClick:["Indirect"],disable:["Direct","Both-Direct-And-Indirect","Night-Light","Anti-Fog"],enable:[]},Round:{showAndClick:["Indirect","Vertical Mounting"],disable:["Night-Light","Direct","Both-Direct-And-Indirect"],enable:[]},Adjustable:{showAndClick:["High","Non-Dimming"],disable:["ELV-Dimmable","0-10-Dimmable","Standard"],enable:["High","Non-Dimming"]}};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s={"Wall Switch Only":{ifSelected:["Adjustable"],resetKey:["color temperature"]},Inset:{ifSelected:["Indirect"],resetKey:["light direction"],fallback:["Both Direct And Indirect"]},"No Frost":{ifSelected:["Indirect"],resetKey:["light direction"],fallback:["Both Direct And Indirect"]},Edge:{ifSelected:["Both Direct And Indirect"],resetKey:["light direction"],fallback:["Indirect"]},"Touch Sensor":{ifSelected:["Night-Light"],resetKey:["accessories"]},"Matrix Touch":{ifSelected:["Night-Light","Anti-Fog"],resetKey:["accessories"]},size:{resetKey:["size","width","diameter","height"]}};function u(e){window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",function(t){var n,r,i=(n=t,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(n,r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];e.forEach((function(e){i.resetFilters([e]).then((function(){console.log("".concat(e," filter reset successfully"))})).catch((function(t){console.error("Error resetting ".concat(e," filter:"),t)}))}))}])}function d(e){var t=e.target.value;console.log("Clicked value: ".concat(t));var n=function(){if(function(e,t){return t.split("||").map((function(e){return e.trim()})).some((function(t){return t.split("&&").map((function(e){return e.trim()})).every((function(t){return e.includes(t)}))}))}(t,r)){var e=s[r];e&&(n=e.ifSelected,i=h(),n.some((function(e){return i.some((function(t){return t.value===e}))})))&&(console.log("attempting to click fallback"),e.fallback?e.fallback.forEach((function(e){$('#full-filter-form input[value="'.concat(e,'"]')).each((function(){var t=$(this);setTimeout((function(){t.click(),console.log("Clicking fallback option: ".concat(e))}),100)}))})):setTimeout((function(){u(e.resetKey)}),0))}var n,i};for(var r in s)n()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){var e=$("#full-filter-form"),t=[];return e.find('input[type="radio"]:checked').each((function(){var e=$(this).attr("id"),n=$(this).val(),r=$(this).attr("data-name");t.push({id:e,value:n,dataName:r})})),e.find('input[type="checkbox"]:checked').each((function(){var e=$(this).attr("id"),n=$(this).attr("id"),r=$(this).attr("data-name");t.push({id:e,value:n,dataName:r})})),e.find('input[type="text"]').each((function(){var e=$(this).attr("id"),n=$(this).val()||"",r=$(this).attr("data-name");t.push({id:e,value:n,dataName:r})})),e.find("select").each((function(){var e=$(this).attr("id"),n=$(this).find("option:selected").text(),r=$(this).attr("data-name");t.push({id:e,value:n,dataName:r})})),console.log("Selected Options:",t),t}function m(){var e=h();console.log("Selected Options in updateConfigurator:",e),function(e,i){Object.entries(i).forEach((function(i){var o,a,l=(a=2,function(e){if(Array.isArray(e))return e}(o=i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(o,a)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],s=l[1];(function(e,t){var n=t.split("&&").map((function(e){return e.trim()}));return n.length>1?n.every((function(t){return e.some((function(e){return e.value.includes(t)}))})):e.some((function(e){return e.value.includes(t.trim())}))})(e,c)&&(t(s.disable),r(s.enable),n(s.showAndClick))}))}(e,l),a(e),function(e){var t=document.querySelectorAll(".diameter"),n=document.querySelectorAll(".standard");e.some((function(e){return e.value.includes("Round")}))?(t.forEach((function(e){return e.classList.remove("hide")})),n.forEach((function(e){return e.classList.add("hide")}))):(t.forEach((function(e){return e.classList.add("hide")})),n.forEach((function(e){return e.classList.remove("hide")})))}(e)}$(document).ready((function(){$("#full-filter-form").on("change","input, select",m),m()})),window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",function(e){console.log("cmsfilter Successfully loaded!"),e[0].listInstance.on("renderitems",(function(){!function(e){e[0].filtersData.forEach((function(e){var t=e.originalFilterKeys,n=Array.from(e.values);t.forEach((function(e,t){var r=$('.selected-option[filter-target="'.concat(e,'"]'));r&&(r.text(n[t]||""),r.css("display",n[t]?"block":"none"))}))}))}(e)}))}]),document.querySelectorAll("#full-filter-form input").forEach((function(e){e.addEventListener("click",d)})),document.getElementById("Custom-Size-Checkbox").addEventListener("change",(function(){u(s.size.resetKey)}))})();